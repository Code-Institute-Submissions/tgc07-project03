{% extends 'base-template.html' %}

{% block title %}
    Admin - Update User
{% endblock %}

{% block content %}
    <div class="row px-3">
        <div class="col-12 py-5 d-flex justify-content-center">
            <div class="col-12 col-md-10 col-lg-8">
                <h1>Admin panel - Update user profile</h1>

                <form action="" method="post" class="needs-validation" novalidate>
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" name="username" id="username" class="form-control {% if 'invalid_username' in errors %} is-invalid {% endif %}" placeholder="username" value="{{ previous_values.username }}" required>
                        <div class="invalid-feedback">{{ errors.invalid_username }}</div>
                    </div>
                    {%include 'users/base-user-form.html' %}
                    <div class="form-group">
                        <label for="terms_and_conditions">Terms and conditions</label>
                        <input type="checkbox" name="terms_and_conditions" value="true" id="terms_and_conditions" class="{% if 'invalid_terms_and_conditions' in errors %} is-invalid {% endif %}" {% if previous_values.terms_and_conditions==True %}checked{% endif %} required>
                        <div class="invalid-feedback">{{ errors.invalid_terms_and_conditions }}</div>
                    </div>
                    <div class="form-group">
                        <label for="is_admin">Admin user</label>
                        <input type="checkbox" name="is_admin" value="true" id="is_admin" {% if previous_values.is_admin==True %}checked{% endif %} required>
                    </div>
                    <input type="submit" value="Update" class="btn btn-info">
                </form>
            </div>
        </div>
    </div>

    <div class="row px-3">
        <div class="col-12 py-5 d-flex justify-content-center">
            <div class="col-12 col-md-10 col-lg-8">
                <h3>Delete my account. <strong>WARNING:</strong></h3>
                <h4>This will delete the account for good!</h4>
                <a href="{{ url_for('delete_user', user_id=current_user._id) }}" class="btn btn-warning">Delete account</a>
            </div>
        </div>
    </div>

{% endblock %}